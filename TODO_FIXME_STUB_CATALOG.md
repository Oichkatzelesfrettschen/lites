# TODO/FIXME/STUB/HACK/XXX Catalog

**Lites Microkernel - Comprehensive Code Marker Analysis**

Total markers found: **903**

*Generated by automated comprehensive codebase scan*

---

## Executive Summary

### Marker Type Distribution

| Type | Count | Description |
|------|-------|-------------|
| FIXME | 3 | Known bugs or incorrect behavior requiring fixes |
| TODO | 34 | Planned features or improvements not yet implemented |
| HACK | 99 | Temporary workarounds needing proper solutions |
| STUB | 38 | Incomplete or placeholder implementations |
| XXX | 729 | General concerns, questions, or review needed |

### Severity Distribution

| Severity | Count | Priority |
|----------|-------|----------|
| CRITICAL | 12 | Immediate action required |
| HIGH | 22 | Should be addressed soon |
| MEDIUM | 223 | Address in normal development |
| LOW | 646 | Review and document or fix when convenient |

### Category Distribution

| Category | Count | Description |
|----------|-------|-------------|
| server-other | 452 | Server components (misc) |
| filesystem | 209 | Filesystem implementations (UFS, ext2, etc.) |
| core-kernel | 112 | Core kernel functionality |
| networking | 73 | Network stack and protocols |
| bootstrap | 25 | Bootstrap loader and initialization |
| libraries | 21 | Support libraries |
| build-system | 6 | Build configuration and tooling |
| other | 3 | Miscellaneous |
| utilities | 2 | Utility programs |

### Top Directories by Marker Count

| Directory | Marker Count |
|-----------|--------------|
| servers/ | 734 |
| core/ | 112 |
| bootstrap/ | 25 |
| libs/ | 21 |
| include/ | 6 |
| util/ | 2 |
| .devcontainer/ | 1 |
| scripts/ | 1 |
| tests/ | 1 |

---

## CRITICAL Priority Items

**Found 12 critical issues requiring immediate attention**

### 1. servers/posix/ufs/lfs/lfs_segment.c:455
**Type**: `XXX` | **Category**: filesystem

```c
/* XXX -- Change to a panic. */
```

### 2. servers/posix/ufs/lfs/lfs_segment.c:620
**Type**: `XXX` | **Category**: filesystem

```c
/* XXX -- Change to a panic. */
```

### 3. servers/posix/ufs/lfs/lfs_vfsops.c:84
**Type**: `XXX` | **Category**: filesystem

```c
panic("lfs_mountroot");		/* XXX -- implement */
```

### 4. servers/posix/ufs/minixfs/minixfs_vnops.c:592
**Type**: `XXX` | **Category**: filesystem

```c
while (1)  ; /* XXX it's ugly - we need a panic()? */
```

### 5. servers/posix/ufs/ufs/ufs_vnops.c:1438
**Type**: `XXX` | **Category**: filesystem
**Context**: `ufs_mkdir`

```c
panic("ufs_mkdir: blksize"); /* XXX should grow with balloc() */
```

### 6. servers/posix/core/kern_exit.c:155
**Type**: `XXX` | **Category**: server-other

```c
/* XXX p is unlocked (to avoid deadlock in untimeout and fdfree) */
```

### 7. servers/posix/core/subr_prf.c:354
**Type**: `XXX` | **Category**: server-other

```c
* XXX locks. It is very easy to deadlock when calling wakeup,
```

### 8. servers/posix/core/subr_prf.c:358
**Type**: `XXX` | **Category**: server-other

```c
* XXX (complex, hard to guarantee flush in panic, etc.)
```

### 9. servers/posix/serv/cmu_syscalls.c:226
**Type**: `XXX` | **Category**: server-other

```c
/* XXX Memory leak ? */
```

### 10. servers/posix/serv/port_object.c:205
**Type**: `XXX` | **Category**: server-other
**Context**: `port_object_receive_lookup`

```c
warning_panic("port_object_receive_lookup: type check failure");/*XXX*/
```

### 11. servers/posix/serv/port_object.c:302
**Type**: `XXX` | **Category**: server-other
**Context**: `port_object_send_lookup`

```c
warning_panic("port_object_send_lookup: type check failure");/*XXX*/
```

### 12. servers/posix/serv/select.c:290
**Type**: `XXX` | **Category**: server-other

```c
* XXX Taking p->p_lock may deadlock
```

---

## HIGH Priority Items

**Found 22 high-priority items**

### 1. core/mach_kernel/drivers/xklance/xklance.c:438
**Type**: `XXX` | **Category**: core-kernel

```c
/* XXX might be wrong, mostly stolen from kmin */
```

### 2. servers/posix/netiso/tp_input.c:610
**Type**: `XXX` | **Category**: filesystem

```c
/* COS tests says if version wrong, use default version!?XXX */
```

### 3. servers/posix/netiso/tp_subr.c:406
**Type**: `XXX` | **Category**: filesystem

```c
/* if (bang) XXXXX Very bad to remove this test, but somethings broken */
```

### 4. servers/posix/ufs/ufs/ufs_lockf.c:124
**Type**: `XXX` | **Category**: filesystem

```c
* XXX The code is incorrect for multithreaded
```

### 5. libs/ddekit/pgtab.h:15
**Type**: `FIXME` | **Category**: libraries

```c
/* FIXME Region types may be defined by pgtab users. Do we really need them
```

### 6. servers/posix/core/init_main.c:362
**Type**: `XXX` | **Category**: server-other

```c
/* XXX if FFS fails, fall back to EXT2FS */
```

### 7. servers/posix/core/kern_sig.c:732
**Type**: `XXX` | **Category**: server-other

```c
ps->ps_code = code;	/* XXX for core dump/debugger */
```

### 8. servers/posix/core/vfs_cluster.c:50
**Type**: `XXX` | **Category**: server-other

```c
* XXX doreallocblks doesn't work for ext2fs and is buggy for FFS (in the
```

### 9. servers/posix/core/vfs_subr.c:220
**Type**: `XXX` | **Category**: server-other

```c
/* XXX These next two used to be one line, but for a GCC bug. */
```

### 10. servers/posix/core/vfs_vnops.c:361
**Type**: `XXX` | **Category**: server-other

```c
* If the call fails, the memory is still consumed XXX needs thinking.
```

### 11. servers/posix/parisc/conf.c:311
**Type**: `FIXME` | **Category**: server-other

```c
size = 0x2000000;	/* XXX fixme */
```

### 12. servers/posix/parisc/conf.c:333
**Type**: `FIXME` | **Category**: server-other

```c
size = 0x2000000;	/* XXX fixme */
```

### 13. servers/posix/serv/ether_io.c:115
**Type**: `XXX` | **Category**: server-other

```c
/* XXX Avoid MK83 bug. The page is not protected in the driver queue */
```

### 14. servers/posix/serv/ether_io.c:312
**Type**: `XXX` | **Category**: server-other
**Context**: `header`

```c
if(debug_netcode) xxx("header:", eh, sizeof(*eh));
```

### 15. servers/posix/serv/server_exec.c:810
**Type**: `XXX` | **Category**: server-other

```c
* XXX undo falloc_port on failure after this!
```

### 16. servers/posix/serv/timer.c:41
**Type**: `XXX` | **Category**: server-other

```c
/* XXX mach_msg (MK83) has a bug that overflows timeouts above about xfffff */
```

### 17. servers/posix/serv/timer.c:86
**Type**: `XXX` | **Category**: server-other

```c
queue_chain_init(&telt->chain);	/* XXX maybe catches bugs if any */
```

### 18. servers/posix/serv/ux_syscall.c:145
**Type**: `XXX` | **Category**: server-other

```c
assert(p);		/* XXX remove. debug only */
```

### 19. servers/sunos/CDROM/player.c:578
**Type**: `HACK` | **Category**: server-other

```c
/* Utilize notifier hack to avoid stopped clock bug */
```

### 20. servers/sunos/CDROM/x_player.c:899
**Type**: `HACK` | **Category**: server-other

```c
/* Utilize notifier hack to avoid stopped clock bug */
```

### 21. servers/sunos/SOUND/soundtool.c:2152
**Type**: `XXX` | **Category**: server-other

```c
save_errno = errno;	/* XXX - workaround notifier bug */
```

### 22. servers/sunos/SOUND/soundtool.c:2171
**Type**: `XXX` | **Category**: server-other

```c
errno = save_errno;	/* XXX - workaround notifier bug */
```

---

## MEDIUM Priority Items Summary

**Total: 223 items**

### Distribution by Category

- **server-other**: 80 items
- **core-kernel**: 61 items
- **filesystem**: 49 items
- **networking**: 15 items
- **libraries**: 11 items
- **bootstrap**: 6 items
- **build-system**: 1 items

---

## Detailed Breakdown by Category

### SERVER OTHER (452 items)

**By Type**: FIXME:2 | TODO:4 | HACK:22 | STUB:29 | XXX:395

**By Severity**: CRITICAL:7 | HIGH:17 | MEDIUM:80 | LOW:348


*Showing top 15 priority items of 452 total*

- `servers/posix/core/kern_exit.c:155` **[XXX/CRITICAL]**
  ```
  /* XXX p is unlocked (to avoid deadlock in untimeout and fdfree) */
  ```
- `servers/posix/core/subr_prf.c:354` **[XXX/CRITICAL]**
  ```
  * XXX locks. It is very easy to deadlock when calling wakeup,
  ```
- `servers/posix/core/subr_prf.c:358` **[XXX/CRITICAL]**
  ```
  * XXX (complex, hard to guarantee flush in panic, etc.)
  ```
- `servers/posix/serv/cmu_syscalls.c:226` **[XXX/CRITICAL]**
  ```
  /* XXX Memory leak ? */
  ```
- `servers/posix/serv/port_object.c:205` **[XXX/CRITICAL]**
  ```
  warning_panic("port_object_receive_lookup: type check failure");/*XXX*/
  ```
- `servers/posix/serv/port_object.c:302` **[XXX/CRITICAL]**
  ```
  warning_panic("port_object_send_lookup: type check failure");/*XXX*/
  ```
- `servers/posix/serv/select.c:290` **[XXX/CRITICAL]**
  ```
  * XXX Taking p->p_lock may deadlock
  ```
- `servers/posix/core/init_main.c:362` **[XXX/HIGH]**
  ```
  /* XXX if FFS fails, fall back to EXT2FS */
  ```
- `servers/posix/core/kern_sig.c:732` **[XXX/HIGH]**
  ```
  ps->ps_code = code;	/* XXX for core dump/debugger */
  ```
- `servers/posix/core/vfs_cluster.c:50` **[XXX/HIGH]**
  ```
  * XXX doreallocblks doesn't work for ext2fs and is buggy for FFS (in the
  ```
- `servers/posix/core/vfs_subr.c:220` **[XXX/HIGH]**
  ```
  /* XXX These next two used to be one line, but for a GCC bug. */
  ```
- `servers/posix/core/vfs_vnops.c:361` **[XXX/HIGH]**
  ```
  * If the call fails, the memory is still consumed XXX needs thinking.
  ```
- `servers/posix/parisc/conf.c:311` **[FIXME/HIGH]**
  ```
  size = 0x2000000;	/* XXX fixme */
  ```
- `servers/posix/parisc/conf.c:333` **[FIXME/HIGH]**
  ```
  size = 0x2000000;	/* XXX fixme */
  ```
- `servers/posix/serv/ether_io.c:115` **[XXX/HIGH]**
  ```
  /* XXX Avoid MK83 bug. The page is not protected in the driver queue */
  ```

### FILESYSTEM (209 items)

**By Type**: TODO:20 | HACK:13 | STUB:1 | XXX:175

**By Severity**: CRITICAL:5 | HIGH:3 | MEDIUM:49 | LOW:152


*Showing top 15 priority items of 209 total*

- `servers/posix/ufs/lfs/lfs_segment.c:455` **[XXX/CRITICAL]**
  ```
  /* XXX -- Change to a panic. */
  ```
- `servers/posix/ufs/lfs/lfs_segment.c:620` **[XXX/CRITICAL]**
  ```
  /* XXX -- Change to a panic. */
  ```
- `servers/posix/ufs/lfs/lfs_vfsops.c:84` **[XXX/CRITICAL]**
  ```
  panic("lfs_mountroot");		/* XXX -- implement */
  ```
- `servers/posix/ufs/minixfs/minixfs_vnops.c:592` **[XXX/CRITICAL]**
  ```
  while (1)  ; /* XXX it's ugly - we need a panic()? */
  ```
- `servers/posix/ufs/ufs/ufs_vnops.c:1438` **[XXX/CRITICAL]**
  ```
  panic("ufs_mkdir: blksize"); /* XXX should grow with balloc() */
  ```
- `servers/posix/netiso/tp_input.c:610` **[XXX/HIGH]**
  ```
  /* COS tests says if version wrong, use default version!?XXX */
  ```
- `servers/posix/netiso/tp_subr.c:406` **[XXX/HIGH]**
  ```
  /* if (bang) XXXXX Very bad to remove this test, but somethings broken */
  ```
- `servers/posix/ufs/ufs/ufs_lockf.c:124` **[XXX/HIGH]**
  ```
  * XXX The code is incorrect for multithreaded
  ```
- `servers/posix/netiso/clnp_er.c:329` **[TODO/MEDIUM]**
  ```
  *	TODO: if complete src rt was specified, then reverse path, and
  ```
- `servers/posix/netiso/clnp_frag.c:364` **[TODO/MEDIUM]**
  ```
  /* TODO: don't let one src hog all the reassembly buffers */
  ```
- `servers/posix/netiso/clnp_frag.c:835` **[TODO/MEDIUM]**
  ```
  *	TODO: random?
  ```
- `servers/posix/netiso/clnp_input.c:231` **[TODO/MEDIUM]**
  ```
  INCSTAT(cns_toosmall);	/* TODO: use clnl stats */
  ```
- `servers/posix/netiso/clnp_input.c:242` **[TODO/MEDIUM]**
  ```
  INCSTAT(cns_badhlen);	/* TODO: use clnl stats */
  ```
- `servers/posix/netiso/clnp_input.c:254` **[TODO/MEDIUM]**
  ```
  INCSTAT(cns_badhlen);	/* TODO: use clnl stats */
  ```
- `servers/posix/netiso/clnp_input.c:281` **[TODO/MEDIUM]**
  ```
  *	TODO: I would like to make seg_part a pointer into the mbuf, but
  ```

### CORE KERNEL (112 items)

**By Type**: HACK:58 | STUB:6 | XXX:48

**By Severity**: HIGH:1 | MEDIUM:61 | LOW:50


*Showing top 15 priority items of 112 total*

- `core/mach_kernel/drivers/xklance/xklance.c:438` **[XXX/HIGH]**
  ```
  /* XXX might be wrong, mostly stolen from kmin */
  ```
- `core/ipc_mig.c:726` **[HACK/MEDIUM]**
  ```
  * Hack to translate a thread port to a thread pointer for calling
  ```
- `core/mach_kernel/api/netipc/float-conv.c:735` **[HACK/MEDIUM]**
  ```
  Maybe use my RPC hacks.
  ```
- `core/mach_kernel/api/netipc/machnetipc.c:767` **[HACK/MEDIUM]**
  ```
  * This data structure is a hack to pass an argument from calldemux
  ```
- `core/mach_kernel/api/netipc/port-maint.c:2389` **[HACK/MEDIUM]**
  ```
  /* a hack to get each host using a different port space */
  ```
- `core/mach_kernel/api/proxy/Makefile:21` **[HACK/MEDIUM]**
  ```
  BUILD_CPPFLAGS += -DTypeCheck=0 -DXK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:148` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:277` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:306` **[HACK/MEDIUM]**
  ```
  #endif /* XK_PROXY_MSG_HACK */
  ```
- `core/mach_kernel/api/proxy/lproxy.c:308` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:370` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:400` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/lproxy.c:880` **[HACK/MEDIUM]**
  ```
  xTraceP0(s, TR_MORE_EVENTS, "push -- msg hack works");
  ```
- `core/mach_kernel/api/proxy/proxy_util.c:38` **[HACK/MEDIUM]**
  ```
  #ifdef XK_PROXY_MSG_HACK
  ```
- `core/mach_kernel/api/proxy/proxy_util.c:85` **[HACK/MEDIUM]**
  ```
  #else /* ! XK_PROXY_MSG_HACK */
  ```

### NETWORKING (73 items)

**By Type**: TODO:2 | HACK:5 | XXX:66

**By Severity**: MEDIUM:15 | LOW:58


*Showing top 15 priority items of 73 total*

- `servers/posix/net/bpf.c:848` **[XXX/MEDIUM]**
  ```
  * as initialized above.  XXX This should be common code.
  ```
- `servers/posix/net/bpf.c:1283` **[HACK/MEDIUM]**
  ```
  * is admittedly a hack.
  ```
- `servers/posix/net/bpf_compat.h:39` **[HACK/MEDIUM]**
  ```
  * Some hacks for compatibility across SunOS and 4.4BSD.  We emulate malloc
  ```
- `servers/posix/net/if.c:160` **[XXX/MEDIUM]**
  ```
  /* XXX -- Temporary fix before changing 10 ethernet drivers */
  ```
- `servers/posix/net/if_ppp.c:167` **[HACK/MEDIUM]**
  ```
  * The following disgusting hack gets around the problem that IP TOS
  ```
- `servers/posix/net/if_sl.c:56` **[HACK/MEDIUM]**
  ```
  * Hacked almost beyond recognition by Van Jacobson (van@helios.ee.lbl.gov).
  ```
- `servers/posix/net/if_sl.c:481` **[XXX/MEDIUM]**
  ```
  #ifndef LITES /* XXX fix this with a new clist implementation */
  ```
- `servers/posix/net/netisr.h:71` **[XXX/MEDIUM]**
  ```
  /* XXX Temporary -- soon to vanish - wfj */
  ```
- `servers/posix/net/raw_cb.c:53` **[TODO/MEDIUM]**
  ```
  * TODO:
  ```
- `servers/posix/net/slcompress.h:50` **[XXX/MEDIUM]**
  ```
  #define MAX_HDR MLEN		/* XXX 4bsd-ism: should really be 128 */
  ```
- `servers/posix/netinet/if_ether.c:38` **[TODO/MEDIUM]**
  ```
  * TODO:
  ```
- `servers/posix/netinet/ip_input.c:556` **[XXX/MEDIUM]**
  ```
  if (m->m_flags & M_PKTHDR) { /* XXX this should be done elsewhere */
  ```
- `servers/posix/netinet/ip_input.c:968` **[XXX/MEDIUM]**
  ```
  * XXX should be deleted; last arg currently ignored.
  ```
- `servers/posix/netinet/ip_output.c:414` **[XXX/MEDIUM]**
  ```
  return (m);		/* XXX should fail */
  ```
- `servers/posix/netinet/tcp_var.h:168` **[HACK/MEDIUM]**
  ```
  * have a cluster).  As a quick hack, the source & destination
  ```

### BOOTSTRAP (25 items)

**By Type**: XXX:25

**By Severity**: MEDIUM:6 | LOW:19


*Showing top 15 priority items of 25 total*

- `bootstrap/default_pager.c:409` **[XXX/MEDIUM]**
  ```
  /* XXX should be read-write lock */
  ```
- `bootstrap/default_pager.c:615` **[XXX/MEDIUM]**
  ```
  * XXX This implementation can allocate an arbitrary large amount
  ```
- `bootstrap/default_pager.c:3291` **[XXX/MEDIUM]**
  ```
  /* XXXX more code needed */
  ```
- `bootstrap/ext2_file_io.c:979` **[XXX/MEDIUM]**
  ```
  /* xxx should lose a ref to fdp->fd_dev here (and elsewhere) xxx */
  ```
- `bootstrap/ffs_file_io.c:965` **[XXX/MEDIUM]**
  ```
  /* xxx should lose a ref to fdp->fd_dev here (and elsewhere) xxx */
  ```
- `bootstrap/minix_file_io.c:847` **[XXX/MEDIUM]**
  ```
  /* xxx should lose a ref to fdp->fd_dev here (and elsewhere) xxx */
  ```
- `bootstrap/default_pager.c:630` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_write */
  ```
- `bootstrap/default_pager.c:789` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:828` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);	/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:926` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:961` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:1028` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:1065` **[XXX/LOW]**
  ```
  mutex_lock(&pager->lock);		/* XXX lock_read */
  ```
- `bootstrap/default_pager.c:1540` **[XXX/LOW]**
  ```
  * XXX this is not re-entrant XXX
  ```
- `bootstrap/ext2_file_io.c:546` **[XXX/LOW]**
  ```
  * Look for '/dev/xxx' at start of path, for
  ```

### LIBRARIES (21 items)

**By Type**: FIXME:1 | TODO:8 | HACK:1 | STUB:1 | XXX:10

**By Severity**: HIGH:1 | MEDIUM:11 | LOW:9


*Showing top 15 priority items of 21 total*

- `libs/ddekit/pgtab.h:15` **[FIXME/HIGH]**
  ```
  /* FIXME Region types may be defined by pgtab users. Do we really need them
  ```
- `libs/ddekit/memory.c:30` **[TODO/MEDIUM]**
  ```
  // TODO: Replace with a proper virtual memory manager.
  ```
- `libs/ddekit/memory.c:46` **[TODO/MEDIUM]**
  ```
  // TODO: Check for out of memory condition for the vmalloc region.
  ```
- `libs/ddekit/memory.c:109` **[TODO/MEDIUM]**
  ```
  // TODO: The virtual address space is not reused.
  ```
- `libs/libcrypto/aes_fallback.c:169` **[TODO/MEDIUM]**
  ```
  size_t todo = len - offset < AES_BLOCK_SIZE ? len - offset : AES_BLOCK_SIZE;
  ```
- `libs/libcrypto/aes_fallback.c:170` **[TODO/MEDIUM]**
  ```
  for (size_t j = 0; j < todo; ++j) {
  ```
- `libs/libcrypto/aes_fallback.c:173` **[TODO/MEDIUM]**
  ```
  offset += todo;
  ```
- `libs/liblites/enclave.c:3` **[STUB/MEDIUM]**
  ```
  * @brief Stub implementations for enclave management routines.
  ```
- `libs/liblites/enclave.c:31` **[TODO/MEDIUM]**
  ```
  * @todo Replace stub with real enclave creation logic.
  ```
- `libs/liblites/enclave.c:58` **[TODO/MEDIUM]**
  ```
  * @todo Replace stub with real attestation logic.
  ```
- `libs/liblites/exec_file.c:50` **[XXX/MEDIUM]**
  ```
  /* These should come from somewhere else but I define it here for now XXX */
  ```
- `libs/liblites/exec_file.c:118` **[HACK/MEDIUM]**
  ```
  * The reason for this temporary hack is that linux
  ```
- `libs/ddekit/pci.h:22` **[XXX/LOW]**
  ```
  * XXX!
  ```
- `libs/liblites/exec_file.c:124` **[XXX/LOW]**
  ```
  /* XXX take care of cpu type as well. Later. */
  ```
- `libs/liblites/exec_file.c:253` **[XXX/LOW]**
  ```
  /* XXX */
  ```

### BUILD SYSTEM (6 items)

**By Type**: XXX:6

**By Severity**: MEDIUM:1 | LOW:5


- `include/ns.h:122` **[XXX/MEDIUM]**
  ```
  #define ns_netof(a) (*(long *) & ((a).x_net)) /* XXX - not needed */
  ```
- `include/mach/machine/asm.h:69` **[XXX/LOW]**
  ```
  #error XXX elf
  ```
- `include/mach/machine/dpmi.h:53` **[XXX/LOW]**
  ```
  struct real_call_data; /*XXX*/
  ```
- `include/mach/machine/thread_status.h:105` **[XXX/LOW]**
  ```
  * also use i387_state, but somebody will have to verify it (XXX).
  ```
- `include/mach/setjmp.h:32` **[XXX/LOW]**
  ```
  /* XXX prefix these with mach_ so they don't interfere with higher layers?
  ```
- `include/mach/setjmp.h:35` **[XXX/LOW]**
  ```
  /* XXX The original definition of jmp_buf[] causes problems using
  ```

### OTHER (3 items)

**By Type**: STUB:1 | XXX:2

**By Severity**: LOW:3


- `.devcontainer/reinstall-cmake.sh:47` **[XXX/LOW]**
  ```
  TMP_DIR=$(mktemp -d -t cmake-XXXXXXXXXX)
  ```
- `scripts/setup-build-environment.sh:61` **[STUB/LOW]**
  ```
  /* Minimal Mach header stub for basic builds */
  ```
- `tests/unit/posix/test_posix.c:10` **[XXX/LOW]**
  ```
  char file[] = "tfileXXXXXX";
  ```

### UTILITIES (2 items)

**By Type**: XXX:2

**By Severity**: LOW:2


- `util/compose/compose.c:49` **[XXX/LOW]**
  ```
  static char *	tmpFileName = "/tmp/composeNamesXXXXXX";
  ```
- `util/ptbldump/ptbldump.c:53` **[XXX/LOW]**
  ```
  char 	*names[2] = { "/tmp/xkDeclsXXXXXX", "/tmp/xkMapsXXXXXX" };
  ```

---

## Statistical Analysis

### Files with Most Markers (Top 20)

| File | Marker Count |
|------|--------------|
| servers/posix/ufs/ffs/ffs_vfsops.c | 28 |
| servers/posix/mips/conf.c | 24 |
| servers/posix/serv/xmm_interface.c | 19 |
| servers/posix/serv/server_exec.c | 17 |
| core/mach_kernel/api/proxy/uproxy.c | 17 |
| servers/posix/ufs/minixfs/minixfs_vnops.c | 16 |
| servers/posix/ufs/minixfs/minixfs_vfsops.c | 14 |
| core/mach_kernel/drivers/xklance/xklance.c | 14 |
| servers/posix/serv/port_object.c | 13 |
| servers/posix/ufs/lfs/lfs_segment.c | 12 |
| servers/posix/core/kern_sysctl.c | 12 |
| servers/posix/serv/serv_syscalls.c | 11 |
| servers/posix/serv/server_init.c | 11 |
| servers/posix/core/init_main.c | 11 |
| bootstrap/default_pager.c | 11 |
| servers/posix/core/tty.c | 10 |
| servers/posix/core/kern_sig.c | 10 |
| servers/posix/serv/ether_io.c | 9 |
| servers/posix/serv/ux_server_loop.c | 9 |
| servers/posix/core/vfs_vnops.c | 9 |

### XXX Marker Analysis (729 total)

XXX markers often indicate areas needing review or clarification.

**Common XXX Patterns:**

- general review: 644
- locking issues: 46
- known issues: 17
- memory management: 14
- temporary code: 5
- unimplemented: 3

---

## Recommended Action Plan

### Phase 1: Critical Issues (Immediate)

1. Address all 12 CRITICAL items
   - Focus on security, crashes, and data corruption
   - Estimated effort: High priority sprint

### Phase 2: High Priority (Next)

1. Fix 3 FIXME items (known bugs)
2. Implement 0 high-priority TODOs
3. Review 2 critical HACKs for proper solutions

### Phase 3: Medium Priority (Ongoing)

1. Complete 1 STUB implementations
2. Replace 97 temporary workarounds
3. Implement remaining TODOs

### Phase 4: Code Quality (Cleanup)

1. Review and resolve 729 XXX markers
   - Document decisions
   - Fix or remove comments
   - Convert to proper issue tracking

### Recommended Focus Areas by Category

- **core-kernel**: 112 total (0 critical, 1 high)
- **filesystem**: 209 total (5 critical, 3 high)
- **networking**: 73 total (0 critical, 0 high)
- **bootstrap**: 25 total (0 critical, 0 high)

---

## Notes

- This catalog excludes: Items1/, archives/, third_party/, docs/books/, .git/, openmach/
- Severity assessments are automated based on keyword analysis
- Manual review recommended for all CRITICAL and HIGH items
- Consider converting persistent markers to proper issue tracking
- Many XXX markers may be outdated or resolved - review needed

---

*End of catalog*